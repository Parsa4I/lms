# Project 5: Learning Management System
This project is a learning management system. In this website, users can sign up as a student or a teacher and have access to different features based on their role. Teachers can create courses and assign their students homework, and students can attend to courses and submit homework they are assigned to with a file.
## Distinctiveness and Complexity
### Models
`models.py` file contains the 4 models.
#### User model
This model is simply an AbstractUser with an additional attribute which is `is_teacher`. Users can choose to be a teacher or not when signing up on website.
#### Course model
`course_id` is basically the pk added by 1000. This is the id used by students to find the course and sign up for it. `course_name` is the course's title. `is_private` is a boolean field which its value is chosen by the teacher creating the course. They can set a password for the course in `course_password` field if they want the course to be private. `teacher` and `students` are a foreign key and m2m field to `User` model to have a list of students of each course.
#### Homework model
`file` field has the path of the file that the teacher uploads to be attached to homework and can be downloaded by students. This path is generated by `upload_path` method which uses each objects' attributes to return the right path for each file. `students` is a m2m field to `User` model through `UserHomework` model. It has `user` objects of students who have submitted this homework. `get_desc` method is later used in `admin.py` to show the first 50 characters of `description` in admin page.
#### UserHomework model
An object of this model is created each time a student submits a homework. It saves the time is was uploaded and a `score` which its value is for the teacher to decide. `file` is path of the file a student upload when submitting a homework. Its value is generated by `homework_path` method.
### Urls and Views
#### new_course
Teacher can create a new course. Student can sign up for a course if they have id and password (if there is a password needed) of the course.
#### new_course_id
This is used for returning a new course page to students who have visited a course's page that they have not sign up for. It is only used in `course.html` to redirect them to new course page with a form that already has a input field, filled with the course's id.
#### course_view
Returns a template for a course.
#### homework
Returns a template for a homework.
#### give_score
Returns a template for teacher to give a score to a submitted homework. The template will have a `Give_Score` form.
#### user
Return a template containing a user's info.
#### find_public_courses
Returns course search template.
#### add_homework
With a get request, it returns a template with a `Add_Homework_Form` for adding a homework to a course. And for a post request, it receives a form and creates a new homework and then redirect the user to its page.
#### submit_homework
Student can upload a file to submit their homework.
#### user_view
Return a json response containing a user's information.
#### index_homeworks
Returns a json response for homeworks that have not been submitted yet by the user and their due time is not past.
#### courses
Return a json response containing courses of a specific user ordered by course name.
#### course_homework
Returns a json response which has information of all homework for a course.
#### download
Gets a file's path and lets the user to download it. It is used to allow students to download a file attached to a homework. Teacher can also download the file submitted by students as homework.
#### submitted homework
Returns a json containing submitted homework which have not received a score from the teacher. It will then be used in `course.html` and `course.js` to display them to teacher.
#### public_courses
Gets a string and searches for courses that contain that string in their name and returns those courses as a json response.
### Templates and JS Files
#### add-homework
Uses a django form to let a teacher assign students a new homework.
#### course
If user is a teacher and they are teacher of this course, They can click on add homework button and will be redirected to add homework page. They can see previous homework as well. A student who has signed up in class, can see homework can do it. If they haven't signed up in the course, they will have the option to sign up in that course.
This template uses `course.js` to fetch and display homework.
#### find-public-course
User can search courses by their names. It uses `find-course.js` to get related results from server and display them.
#### give-score
Teacher can set the `score` of a `UserHomework` object.
#### homework
Students can submit a file for homework if the due date/time has not passed. If they submit it, they can see their score once the teacher sets it. They can also see a leader board which shows students with best scores. This table is generated using the data passed to template by `homework` view. The view sorts `UserHomework` objects by their scores.
Teacher can see submitted homework and will be provided with a link for each one, to a page for giving them a score.
#### index
This is the main page. Student will see their homework sorted by due time and their courses. Teachers see their courses as well.
#### layout
Every other template extends this template. This contains navbar, meta tags, linking to css and bootstrap.
#### login and sign up
A simple login/sign up page.
#### new-course
If user is a teacher, they can create a new course and set a password for it if they want. Students can add a course if they have its id and password.
#### user
Displays a user's username and whether they are a teacher or a student.